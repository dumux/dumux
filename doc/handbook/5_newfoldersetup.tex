% SPDX-FileCopyrightInfo: Copyright Â© DuMux Project contributors, see AUTHORS.md in root folder
% SPDX-License-Identifier: CC-BY-4.0

\section{Setup of new Folders and new Tests}
\label{sc_newfoldersetup}
This section describes how to set up a new folder and how to tell
the build system there is a new one.
\paragraph{Adding new Folders}
\begin{enumerate}[1)]
 \item create new folder with content
 \item adapt the \verb+CMakeList.txt+ in the folder above by adding a line with
       \verb+add_subdirectory(NEW_FOLDER)+
 \item create a \verb+CMakeList.txt+ in the newly created folder
 \item go to your \texttt{build}-directory and type \verb+make+ to
       re-configure the system
\end{enumerate}

\paragraph{Adding new Test Programs}
\noindent To add a test use the \texttt{add\_dune\_test} macro within the \texttt{CMakeList.txt} file.
The macro can be used with a variable amount of arguments. A simple call could look like this:

\begin{lstlisting}[style=DumuxCode]
dumux_add_test(NAME my_test
               SOURCES main.cc
               CMD_ARGS my_test params.input)
\end{lstlisting}

Here, we create an executable called \texttt{my\_test} from a source file \texttt{main.cc}.
The name of the test will also be \texttt{my\_test} (has to be unique). The last argument specifies a command - here, we just run the executable \texttt{my\_test} with an input file \texttt{params.input}. For more advanced uses of
the \texttt{add\_dune\_test} macro, have a look at the \texttt{test} directory. A complete documentation is given under \url{https://www.dune-project.org/sphinx/core-2.7/}.
