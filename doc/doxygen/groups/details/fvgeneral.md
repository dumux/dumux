@addtogroup Discretization

A discretization scheme is a method for transferring a continuous mathematical problem to a discrete representation. The discretization process involves breaking down the domain (e.g., time, space) into discrete units of finite size such as control volumes and approximating the governing equations on these discrete units. In fluid dynamics, the most common discretization methods are the finite volume schemes because they inherently conserve mass due to their derivation. In the following, we will describe the finite volume method in general.

We consider a domain $\Omega \subset \mathbb{R}^d$, $d \in \{ 2, 3 \}$ with boundary $\Gamma = \partial \Omega = \Gamma_D \cup \Gamma_N$, and the following elliptic problem with Dirichlet boundary conditions on $\Gamma_D$ and Neumann boundary on $\Gamma_N$:
\begin{equation}
  \begin{aligned}
                   \nabla \cdot \left( - \boldsymbol{\Lambda} \nabla u \right) &= q   &&\mathrm{in} \, \Omega \\
               \left( - \boldsymbol{\Lambda} \nabla u \right) \cdot \boldsymbol{n} &= v_N &&\mathrm{on} \, \Gamma_N \\
                                                                   u &= u_D &&\mathrm{on} \, \Gamma_D.
    \label{eq:elliptic}
  \end{aligned}
\end{equation}

Here, $\boldsymbol{\Lambda} = \boldsymbol{\Lambda}(\boldsymbol{x}, \boldsymbol{u})$ is a symmetric and positive definite tensor of second rank (e.g. permeability, diffusivity, etc.), $u = u (\boldsymbol{x})$ is unknown and $q = q(\boldsymbol{x}, \boldsymbol{u})$ is a source/sink.
We denote by $\mathcal{M}$ the mesh that results from the division of the domain $\Omega$ into $n_e$ control volumes $K \subset \Omega$. Each $K$ is a polygonal open set such that $K \cap L = \emptyset, \forall{K \neq L}$ and $\overline{\Omega} = \cup_{K \in \mathcal{M}} \overline{K}$.

For the derivation of the finite volume formulation, we integrate the governing equation over a control volume $K$ and apply the Gauss divergence theorem,

\begin{equation}
    \int_{K} \nabla \cdot \left( - \boldsymbol{\Lambda} \nabla u \right) \, \mathrm{d} \Omega = \int_{\partial K} \left( - \boldsymbol{\Lambda} \nabla u \right) \cdot \boldsymbol{n} \, \mathrm{d} \Gamma = \int_K q \, \mathrm{d}x.
    \label{eq:ellipticIntegrated}
\end{equation}

Splitting the control volume boundary $\partial K$ into a finite number of faces $\sigma \subset \partial K$ (such that $\sigma = \overline{K} \cap \overline{L}$ for some neighboring control volume $L$) and replacing the exact fluxes by an approximation, i.e. $F_{K, \sigma} \approx \int_{\sigma} \left( - \boldsymbol{\Lambda}_K \nabla u \right) \cdot \boldsymbol{n} \mathrm{d} \Gamma$ (here $\boldsymbol{\Lambda}_K$ is the value of $\boldsymbol{\Lambda}$ associated with control volume $K$), yield the discrete equation
\begin{equation}
    \sum_{\sigma \subset \partial K} F_{K, \sigma} = Q_K, \quad \forall \, {K \in \mathcal{M}},
\label{eq:ccdisc}
\end{equation}
where $F_{K, \sigma}$ is the discrete flux through face $\sigma$ flowing out of cell $K$ and $Q_K := \int_K q \, \mathrm{d}x$ is the integrated source/sink term.

**Representation of the discretization scheme in DuMux:**<br>
In DuMux, a key conceptual element is the *grid geometry*, which serves as an abstract representation of the underlying discretization method. This *grid geometry* is a wrapper around a *grid view* of a Dune grid instance. Dune grids are general, hierarchical grids, while *grid views* offer read-only access into specific sections of the grid. Specifically, a *leaf grid view* contains all the basic, unrefined grid entities, covering either the entire computational domain in sequential simulations or just a segment allocated to an individual processor in parallel simulations. On the other hand, a *level grid view* provides a snapshot of grid elements at a specific level of refinement within the hierarchy. Using these views, the *grid geometry* constructs all the required geometrical and topological information to solve the discrete equations generated by any of the available discretization methods (see below).
